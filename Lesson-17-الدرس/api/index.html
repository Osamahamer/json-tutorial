<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coder Shiyar</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>
<body>

    <input type="text" id="search" placeholder="بحث ...."/>
    <button type="button" id="searchBTN">بحث</button>
    <main id="content">

    </main>
    <script>
        let search = document.getElementById("search");
        let searchBTN = document.getElementById("searchBTN");
        searchBTN.onclick = ()=>{
        fetch('http://localhost/api/appApi/read.php').then(response=> response.json())
        .then(data=> {
        let searchValue = document.getElementById("search").value;
        let content = document.getElementById("content");
        content.innerHTML = '';
        if(searchValue.length >=3){
               
            data.forEach(element => {
                
                if(element.content.search(searchValue) != -1 || element.title.search(searchValue) != -1){
                    content.innerHTML += "<article>" +element.content+"</article>";
                    content.innerHTML += "<article>" +element.title+"</article>";
                }
            });
           
        }
    }
        );
        };
        
        
        // search.oninput = ()=>{
        //     fetch('http://localhost/api/appApi/read.php').then(response=> response.json())
        // .then(data=> {
        // let searchValue = document.getElementById("search").value;
        // let content = document.getElementById("content");
        // content.innerHTML = '';
        //     data.forEach(element => {
        //         if(element.content.search(searchValue) != -1 || element.title.search(searchValue) != -1){
        //             content.innerHTML += "<article>" +element.content+"</article>";
        //             content.innerHTML += "<article>" +element.title+"</article>";
        //         }
        //     });
           
        // }
        // );
        // };
      
    </script>
</body>
</html>